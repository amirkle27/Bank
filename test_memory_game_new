import memory_game
import pytest

from memory_game import init_game


def test_game_initialization (game_data):
    assert len(game_data ['cards_position']) == 16
    assert game_data['rows'] == 4
    assert game_data['columns'] == 4
    assert game_data['turn'] == 'Player 1'
    assert not game_data['game_over'] == True


def test_choice1_not_choice2 ():
    choice1 = (1,1)
    choice2 = (1,1)
    with pytest.raises(AssertionError) as ex:
        assert str(ex.value) == "Choices must not be the same"

def test_choice1_in_matched():
    choice1 = (1, 1)
    matched = [choice1]
    with pytest.raises(AssertionError) as ex:
        assert str(ex.value) == "One or both cards are already matched. Try again."

def test_choice2_in_matched():
    choice2 = (1, 1)
    matched = [choice2]
    with pytest.raises(AssertionError) as ex:
        assert str(ex.value) == "One or both cards are already matched. Try again."

def test_position_for_choice ():
    choice1 = (1,1)
    position = (choice1[0] - 1) * 4 + choice1[1]
    assert position == 1



